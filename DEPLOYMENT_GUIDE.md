# ğŸš€ ë°°í¬ ê°€ì´ë“œ

## ğŸ“‹ ë°°í¬ ë°©ë²• ê°œìš”

MP Learning Platformì€ ë‘ ê°€ì§€ ë°°í¬ ë°©ë²•ì„ ì§€ì›í•©ë‹ˆë‹¤:

1. **ìë™ ë°°í¬ (CI/CD)**: GitHub Actionsë¥¼ í†µí•œ ìë™í™”ëœ ë°°í¬
2. **ìˆ˜ë™ ë°°í¬**: ë¡œì»¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•œ ìˆ˜ë™ ë°°í¬

## ğŸ”„ ë°©ë²• 1: ìë™ ë°°í¬ (CI/CD)

### 1.1 GitHub Secrets ì„¤ì •

GitHub ì €ì¥ì†Œì˜ Settings â†’ Secrets and variables â†’ Actionsì—ì„œ ë‹¤ìŒ ì‹œí¬ë¦¿ì„ ì„¤ì •:

```
CAFE24_FTP_SERVER = gukho.net
CAFE24_FTP_USERNAME = [FTP ì‚¬ìš©ìëª…]
CAFE24_FTP_PASSWORD = [FTP ë¹„ë°€ë²ˆí˜¸]
```

### 1.2 ìë™ ë°°í¬ ì‹¤í–‰

1. **ë©”ì¸ ë¸Œëœì¹˜ì— í‘¸ì‹œ**:
   ```bash
   git add .
   git commit -m "feat: ë°°í¬ ì¤€ë¹„ ì™„ë£Œ"
   git push origin main
   ```

2. **GitHub Actions í™•ì¸**:
   - GitHub ì €ì¥ì†Œ â†’ Actions íƒ­
   - "Deploy to Cafe24" ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ í™•ì¸
   - ê° ë‹¨ê³„ë³„ ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§

3. **ë°°í¬ ì™„ë£Œ í™•ì¸**:
   - ëª¨ë“  ë‹¨ê³„ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ Cafe24ì— ë°°í¬ë¨
   - ì‚¬ì´íŠ¸ ì ‘ì†: https://gukho.net/mp/

### 1.3 CI/CD íŒŒì´í”„ë¼ì¸ ë‹¨ê³„

1. **ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬**
   - PHP CS Fixerë¡œ ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬
   - PHPStanìœ¼ë¡œ ì •ì  ë¶„ì„
   - ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€ í†µê³¼ í™•ì¸

2. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**
   - í†µí•© í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ì‹¤í–‰
   - ëª¨ë“  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
   - ì„±ëŠ¥ ë° ë³´ì•ˆ í…ŒìŠ¤íŠ¸

3. **ë³´ì•ˆ ê²€ì‚¬**
   - ì˜ì¡´ì„± ì·¨ì•½ì  ìŠ¤ìº”
   - ë³´ì•ˆ ì´ìŠˆ í™•ì¸

4. **ë°°í¬ íŒ¨í‚¤ì§€ ìƒì„±**
   - í”„ë¡œë•ì…˜ ì„¤ì • ì ìš©
   - ê°œë°œìš© íŒŒì¼ ì œê±°
   - ìµœì í™”ëœ ë°°í¬ íŒ¨í‚¤ì§€ ìƒì„±

5. **Cafe24 ë°°í¬**
   - FTPë¥¼ í†µí•œ íŒŒì¼ ì—…ë¡œë“œ
   - ë°°í¬ í›„ í—¬ìŠ¤ ì²´í¬
   - ë°°í¬ ì™„ë£Œ ì•Œë¦¼

## ğŸ”§ ë°©ë²• 2: ìˆ˜ë™ ë°°í¬

### 2.1 ì‚¬ì „ ì¤€ë¹„

1. **FTP ì •ë³´ í™•ì¸**:
   - Cafe24 ì›¹FTP ì ‘ì† ì •ë³´
   - FTP ì„œë²„: gukho.net
   - ì‚¬ìš©ìëª…ê³¼ ë¹„ë°€ë²ˆí˜¸ ì¤€ë¹„

2. **ë¡œì»¬ í™˜ê²½ í™•ì¸**:
   ```bash
   php -v  # PHP 8.0 ì´ìƒ
   php -m | grep -E "(pdo|ftp|curl|zip)"  # í•„ìˆ˜ í™•ì¥ í™•ì¸
   ```

### 2.2 ìˆ˜ë™ ë°°í¬ ì‹¤í–‰

1. **ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰**:
   ```bash
   # ê¸°ë³¸ ë°°í¬
   php scripts/deploy-cafe24.php
   
   # ì˜µì…˜ê³¼ í•¨ê»˜ ë°°í¬
   php scripts/deploy-cafe24.php --skip-tests --ftp-user=username --ftp-pass=password
   ```

2. **ë°°í¬ ê³¼ì • ëª¨ë‹ˆí„°ë§**:
   - ë°°í¬ ì „ ê²€ì‚¬
   - ë°±ì—… ìƒì„±
   - í…ŒìŠ¤íŠ¸ ì‹¤í–‰
   - íŒ¨í‚¤ì§€ ì¤€ë¹„
   - FTP ì—…ë¡œë“œ
   - ë°°í¬ í›„ ì‘ì—…

### 2.3 ìˆ˜ë™ ë°°í¬ ì˜µì…˜

```bash
# ë°±ì—… ê±´ë„ˆë›°ê¸°
php scripts/deploy-cafe24.php --skip-backup

# í…ŒìŠ¤íŠ¸ ê±´ë„ˆë›°ê¸°
php scripts/deploy-cafe24.php --skip-tests

# FTP ì •ë³´ ì§ì ‘ ì…ë ¥
php scripts/deploy-cafe24.php --ftp-user=username --ftp-pass=password

# ëª¨ë“  ì˜µì…˜ ì¡°í•©
php scripts/deploy-cafe24.php --skip-backup --skip-tests --ftp-user=username --ftp-pass=password
```

## ğŸ“Š ë°°í¬ í›„ í™•ì¸ì‚¬í•­

### 3.1 ê¸°ë³¸ í™•ì¸

1. **ì‚¬ì´íŠ¸ ì ‘ì† í…ŒìŠ¤íŠ¸**:
   ```
   https://gukho.net/mp/
   ```

2. **í—¬ìŠ¤ ì²´í¬**:
   ```
   https://gukho.net/mp/health.php
   ```

3. **ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸**:
   - ê´€ë¦¬ì ê³„ì •: admin / admin123
   - ì¼ë°˜ ì‚¬ìš©ì ë“±ë¡/ë¡œê·¸ì¸

### 3.2 ê¸°ëŠ¥ë³„ í™•ì¸

1. **í•™ìŠµ ëª¨ë“ˆ**:
   - ì¹´ë“œ ìŠ¬ë¼ì´ë“œì‡¼: https://gukho.net/mp/modules/learning/card/slideshow.php
   - ì–´íœ˜ ê´€ë¦¬: https://gukho.net/mp/modules/learning/voca/voca.php

2. **ë„êµ¬ ëª¨ë“ˆ**:
   - ë‰´ìŠ¤ ê²€ìƒ‰: https://gukho.net/mp/modules/tools/news/search_news.php
   - ë°•ìŠ¤ ë¸Œë¦¬ë”©: https://gukho.net/mp/modules/tools/box/boxbreathe.php

3. **ê´€ë¦¬ ëª¨ë“ˆ**:
   - CRUD ë°ëª¨: https://gukho.net/mp/modules/management/crud/data_list.php
   - ê±´ê°• ê¸°ë¡: https://gukho.net/mp/modules/management/myhealth/health_list.php

### 3.3 ì„±ëŠ¥ í™•ì¸

1. **í˜ì´ì§€ ë¡œë”© ì†ë„**:
   - í™ˆí˜ì´ì§€: < 2ì´ˆ
   - API ì‘ë‹µ: < 1ì´ˆ

2. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°**:
   - ì—°ê²° ì„±ê³µ í™•ì¸
   - ì¿¼ë¦¬ ì‘ë‹µ ì‹œê°„ í™•ì¸

3. **íŒŒì¼ ì—…ë¡œë“œ**:
   - ì´ë¯¸ì§€ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
   - íŒŒì¼ ê¶Œí•œ í™•ì¸

## ğŸ”’ ë³´ì•ˆ í™•ì¸ì‚¬í•­

### 4.1 ë°°í¬ í›„ ë³´ì•ˆ ì ê²€

1. **ê°œë°œìš© íŒŒì¼ ì œê±° í™•ì¸**:
   - `db_check.php` ì‚­ì œë¨
   - `db_setup.php` ì‚­ì œë¨
   - `debug.php` ì‚­ì œë¨

2. **ì„¤ì • íŒŒì¼ ë³´ì•ˆ**:
   - í”„ë¡œë•ì…˜ ëª¨ë“œ ì„¤ì • í™•ì¸
   - ë””ë²„ê·¸ ëª¨ë“œ ë¹„í™œì„±í™” í™•ì¸

3. **ê¶Œí•œ ì„¤ì •**:
   - ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ ê¶Œí•œ: 755
   - ë¡œê·¸ ë””ë ‰í† ë¦¬ ê¶Œí•œ: 755
   - ì„¤ì • íŒŒì¼ ê¶Œí•œ: 644

### 4.2 HTTPS í™•ì¸

1. **SSL ì¸ì¦ì„œ**:
   - https://gukho.net/mp/ ì ‘ì† í™•ì¸
   - ë¸Œë¼ìš°ì €ì—ì„œ ë³´ì•ˆ ì—°ê²° í‘œì‹œ í™•ì¸

2. **ë³´ì•ˆ í—¤ë”**:
   - HSTS í—¤ë” í™•ì¸
   - CSP í—¤ë” í™•ì¸

## ğŸš¨ ë¬¸ì œ í•´ê²°

### 5.1 ì¼ë°˜ì ì¸ ë¬¸ì œ

1. **FTP ì—°ê²° ì‹¤íŒ¨**:
   ```
   ë¬¸ì œ: FTP ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
   í•´ê²°: FTP ì •ë³´ í™•ì¸, ë°©í™”ë²½ ì„¤ì • í™•ì¸
   ```

2. **íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨**:
   ```
   ë¬¸ì œ: íŠ¹ì • íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨
   í•´ê²°: íŒŒì¼ ê¶Œí•œ í™•ì¸, ë””ìŠ¤í¬ ê³µê°„ í™•ì¸
   ```

3. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨**:
   ```
   ë¬¸ì œ: ì‚¬ì´íŠ¸ ì ‘ì† ì‹œ DB ì˜¤ë¥˜
   í•´ê²°: DB ì„¤ì • í™•ì¸, í…Œì´ë¸” ì¡´ì¬ í™•ì¸
   ```

### 5.2 ë¡œê·¸ í™•ì¸

1. **ì—ëŸ¬ ë¡œê·¸**:
   ```
   ìœ„ì¹˜: system/logs/error.log
   í™•ì¸: ìµœê·¼ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
   ```

2. **ë°°í¬ ë¡œê·¸**:
   ```
   ìœ„ì¹˜: system/logs/deploy.log
   í™•ì¸: ë°°í¬ ê³¼ì • ë¡œê·¸ í™•ì¸
   ```

### 5.3 ë¡¤ë°± ë°©ë²•

1. **ë°±ì—…ì—ì„œ ë³µì›**:
   ```bash
   php scripts/backup-restore.php --backup=backup_filename
   ```

2. **ì´ì „ ë²„ì „ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°**:
   ```bash
   git checkout HEAD~1
   php scripts/deploy-cafe24.php
   ```

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§

### 6.1 ë°°í¬ í›„ ëª¨ë‹ˆí„°ë§

1. **ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§**:
   - CPU, ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
   - ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
   - ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½

2. **ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§**:
   - ì‘ë‹µ ì‹œê°„
   - ì—ëŸ¬ìœ¨
   - ì‚¬ìš©ì í™œë™

3. **ë¡œê·¸ ëª¨ë‹ˆí„°ë§**:
   - ì—ëŸ¬ ë¡œê·¸
   - ì ‘ê·¼ ë¡œê·¸
   - ë³´ì•ˆ ë¡œê·¸

### 6.2 ì•Œë¦¼ ì„¤ì •

1. **ë°°í¬ ì™„ë£Œ ì•Œë¦¼**:
   - ì´ë©”ì¼ ì•Œë¦¼
   - Slack ì•Œë¦¼
   - í…”ë ˆê·¸ë¨ ì•Œë¦¼

2. **ì˜¤ë¥˜ ì•Œë¦¼**:
   - ì—ëŸ¬ ë°œìƒ ì‹œ ì¦‰ì‹œ ì•Œë¦¼
   - ì„±ëŠ¥ ì €í•˜ ì‹œ ì•Œë¦¼

## ğŸ“ ì§€ì›

### 7.1 ë¬¸ì œ ë°œìƒ ì‹œ

1. **ë¡œê·¸ í™•ì¸**:
   - ì‹œìŠ¤í…œ ë¡œê·¸ í™•ì¸
   - ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ í™•ì¸

2. **ê°œë°œì ë¬¸ì˜**:
   - ë¬¸ì œ ìƒí™© ìƒì„¸ ì„¤ëª…
   - ë¡œê·¸ íŒŒì¼ ì²¨ë¶€
   - ìŠ¤í¬ë¦°ìƒ· ì²¨ë¶€

3. **í˜¸ìŠ¤íŒ… ì—…ì²´ ë¬¸ì˜**:
   - Cafe24 ê³ ê°ì„¼í„°: 1544-2020
   - ê¸°ìˆ ì§€ì›íŒ€ ë¬¸ì˜

### 7.2 ì—°ë½ì²˜

- **ê°œë°œíŒ€**: [ê°œë°œì ì´ë©”ì¼]
- **ì‹œìŠ¤í…œ ê´€ë¦¬ì**: [ê´€ë¦¬ì ì´ë©”ì¼]
- **ê¸´ê¸‰ì—°ë½ì²˜**: [ê¸´ê¸‰ì—°ë½ì²˜]

---

**ë°°í¬ ì™„ë£Œ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸:**

- [ ] ì‚¬ì´íŠ¸ ì ‘ì† í™•ì¸
- [ ] ë¡œê·¸ì¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ì£¼ìš” ê¸°ëŠ¥ ë™ì‘ í™•ì¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
- [ ] íŒŒì¼ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
- [ ] ë³´ì•ˆ ì„¤ì • í™•ì¸
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ëª¨ë‹ˆí„°ë§ ì„¤ì • í™•ì¸ 